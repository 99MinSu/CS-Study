# ERD

💡 `ERD` 이란?

(Entity Relationship Diagram) - 시스템의 엔티티들이 무엇이 있는지 어떤 관계가 있는지를 나타내는 다이어그램

- 중요성
1. 데이터 모델의 가시화 : 시스템의 데이터 모델을 보다 명확하고 간결하게 가시화하여 개발자와 다른 부서의 동업자들이 엔티티, 속성, 그리고 시스템의 다른 요소들을 쉽게 파악할 수 있게 도와준다.

2. 데이터베이스 설계의 청사진 역할 : ERD는 보통 정규화 작업이 진행되어 있는 상태이기 때문에 시스템에 필요한 청사진 역할을 하여 데이터베이스의 스키마를 생성하는데 보다 효율적이고 잘 구성되도록 도와준다.

3. 협업 툴로써의 가치 : ERD는 일반적으로 개발자뿐만 아니라 다른 부서의 일원들도 쉽게 파악할 수 있게끔 간결한 언어로 작성되어있기 때문에 시스템의 요구사항과 설계를 이해하는데 큰 도움을 준다.

---

## ERD의 특징 및 구성

- 엔티티 : ERD는 시스템 상에 있는 엔티티들의 관계를 나타내는데 집중되어 있다.

- 관계 : ERD 엔티티들의 관계를 1 대 1, 1 대 다, 다 대 다의 관계로 기호를 써서 나타낸다.

- 속성 : ERD는 각 각의 엔티티에 부여된 속성 값들을 보여주는데 대표적으로 이름, 크기, 그리고 데이터 형태 등이 있다.

- 기수 (Cardinality) : ERD는 기수를 사용해 엔티티의 인스턴스의 수 그리고 연결된 관계의 수를 나타낸다 (1:1, 1:N, N:N).

- 기본 키 (Primary Key), 외래 키 (Foreign Key) : ERD는 각 엔티티의 기본 키와 외래 키를 식별한다.

- 정규화 : ERD는 대체적으로 정규화를 기본으로 하기 때문에 DB의 중복된 엔티티를 줄이고 데이터의 무결성을 향상시킨다.

- 추상화 : ERD는 실제 세계의 시스템을 추상화한 것이기 때문에 설계자가 시스템에 더욱 효율적으로 집중할 수 있도록 도와준다.

![image](https://github.com/99MinSu/CS-Study/assets/89891306/d1ac9073-b657-497d-8d6a-40745585396d)

![image](https://github.com/99MinSu/CS-Study/assets/89891306/015b183b-91d4-4906-b9f2-66337cfbb5c1)

---

## 예제로 배우는 ERD

![image](https://github.com/99MinSu/CS-Study/assets/89891306/195c9211-53d0-4e76-b9fc-10da553873fa)


---

## 정규화

💡 `정규화 (Normalization)` 이란?

릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나 방지를 위해 저장 공간을 효율적으로 관리함에 따라 여러 릴레이션을 여러 개로 분리하는 작업

💡 `정규화의 필요성`

- 데이터의 중복 최소화(효율적인 저장공간 활용)
- 데이터 무결성 향상(모순을 방지)
- 쿼리 효율 증가(쿼리 될 데이터 양 감소)
- DB 설계 단순화(유지보수가 쉬움)
  
---

## 제1 정규화

💡 `1 정규화` 이란?

릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값으로 구성되어야 한다. (비정규형 -> 1NF)

- 속성에 대한 값이 원자 값이어야 함
- 중복 될 수 있는 그룹은 따로 분리해서 관리
- 식별자로 관리

(![image](https://github.com/99MinSu/CS-Study/assets/89891306/20e212c8-60f9-479f-8b59-b4cc731dd0b1)

---

## 제2 정규화

💡 `2 정규화` 이란?

기존에 제 1 정규화 과정을 거친 뒤, 부분 함수의 종속성을 제거한 형태를 말하며, 쉽게 말해 기본 키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것 (1NF -> 2NF)

![image](https://github.com/99MinSu/CS-Study/assets/89891306/9aba7cb2-a68a-4e79-9636-f142d9b8f22b)

---

## 제3 정규화

💡 `3 정규화` 이란?

제 2 정규형이 완성된 상태이고 기본키가 아닌 모든 속성이 이행적 함수 종속을 만족하지 않는 상태 (2NF -> 3NF)

`이행적 함수`?
=> A, B, C가 속성(열)이라고 할 때, A가 B에 함수적으로 종속되고, 동시에 B가 C에 함수적으로 종속되며, A가 C에 함수적으로 종속되지 않는 경우

![image](https://github.com/99MinSu/CS-Study/assets/89891306/2370ed60-2432-4a7b-9611-5519435562e5)


---

## BCNF, 보이스/코드 정규형

💡`BCNF` 이란?

제 3정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태

`결정자` : ‘X’ → ‘Y’일때 X는 결정자, Y는 종속자

![image](https://github.com/99MinSu/CS-Study/assets/89891306/ee4b5d03-df5c-48a5-bf14-0385d39b0927)

---

## 제4 정규화

💡`4 정규화` 이란?

다중값 종속이 없는 상태

> 다중값 종속(다치 종속) : 
> 같은 테이블 내의 독립적인 두 개 이상의 컬럼이 또 다른 컬럼에 종속되는 것을 말한다.
> 즉, A → B 인 의존성에서 단일 값 A와 다중 값 B가 존재한다면 다치 종속이라고 할 수 있다. 이러한 종속을 A ↠ B 로 표기한다. (다치 종속은 이중 화살표(double arrow) ↠ 로 표기한다.)

> 다치 종속은 최소 2개의 컬럼이 다른 컬럼에 종속되어야 하기 때문에 최소 3개의 컬럼이 필요하다.

![image](https://github.com/99MinSu/CS-Study/assets/89891306/804a8475-9204-4891-b6b8-0e15bf176bf6)

---

## 제5 정규화

💡`5 정규화` 이란?

조인 종속을 제거한 상태

> 조인 종속 : 
> 하나의 릴레이션을 여러개의 릴레이션으로 분해하였다가, 다시 조인했을 때 데이터 손실이 없고 필요없는 데이터가 생기는 것을 말한다. 조인 종속성은 다치 종속의 개념을 더 일반화한 것이다.

![image](https://github.com/99MinSu/CS-Study/assets/89891306/8670daec-27e6-4d71-8caa-103fcefd2958)

----
출처
- https://velog.io/@mathe1303/DataBase-ERD-Normalization
- https://velog.io/@oyunseong/ERD%EC%99%80-%EC%A0%95%EA%B7%9C%ED%99%94-%EA%B3%BC%EC%A0%95
- https://velog.io/@wisdom-one/%EC%A0%95%EA%B7%9C%ED%99%94Normalization
- https://velog.io/@mong9_s/DBRDBMS-5.-ER%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8ERD
